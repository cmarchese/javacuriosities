<!DOCTYPE html>
<html lang="es">
<head>
    <title>Introducción AJAX</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <!--
        Definimos de donde se debe leer el archivo que contiene el código JavaScript
    -->
    <script type="text/javascript" src="js/functions.js"></script>

    <!--
        Muchas veces en lugar de bajarnos un framework JavaScript e incluir los fuentes en nuestra aplicación
        podemos hacer referencia al framework desde un CDN.
        Una CDN o Red de Distribución de Contenido es básicamente un conjunto de servidores ubicados en diferentes puntos de una red
        que contienen copias locales de ciertos contenidos (vídeos, imágenes, música, documentos, etc.) que están almacenados en otros
        servidores generalmente alejados geográficamente, de forma que sea posible servir dichos contenidos de manera más eficiente.
    -->
    <script src="https://code.jquery.com/jquery-1.10.1.min.js"
            integrity="sha256-SDf34fFWX/ZnUozXXEH0AeB+Ip3hvRsjLwp6QNTEb3k=" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-migrate-1.2.1.min.js"
            integrity="sha256-HmfY28yh9v2U4HfIXC+0D6HCdWyZI42qjaiCFEJgpo0=" crossorigin="anonymous"></script>

    <!--
        Otra opción es incluir el código JavaScript dentro del mismo HTML
    -->
    <script type="text/javascript">
        function loadXMLDoc() {
            var xmlhttp;
            if (window.XMLHttpRequest) {
                // Código para IE7+, Firefox, Chrome, Opera, Safari
                xmlhttp = new XMLHttpRequest();
            } else {
                // Código para IE6, IE5
                xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
            }

            /*
             * El método "onreadystatechange" es responsable de manejar los eventos que se producen.
             * Se invoca cada vez que se produce un cambio en el estado de la petición HTTP.
             * Normalmente es una referencia a una función JavaScript
             */
            xmlhttp.onreadystatechange = function () {
                /*
                 * readyState:
                 * 0    No inicializado (objeto creado, pero no se ha invocado el método open)
                 * 1    Cargando (objeto creado, pero no se ha invocado el método send)
                 * 2    Cargado (se ha invocado el método send, pero el servidor aún no ha respondido)
                 * 3    Interactivo (se han recibido algunos datos, aunque no se puede emplear la propiedad responseText)
                 * 4    Completo (se han recibido todos los datos de la respuesta del servidor)
                 *
                 * status:
                 * El código de estado HTTP devuelto por el servidor.
                 * 200  Para una respuesta correcta.
                 * 404  Para "No encontrado".
                 * 500  Para un error del servidor.
                 */
                if (xmlhttp.readyState === 4 && xmlhttp.status === 200) {
                    document.getElementById("data").innerHTML = xmlhttp.responseText;
                }
            };

            xmlhttp.open("GET", "ajax_info.txt", true);
            xmlhttp.send();
        }
    </script>
</head>
<body>
<div id="data"><h2>AJAX va a cambiar este texto</h2></div>
<button type="button" onclick="loadXMLDoc();">Cambiar Contenido</button>

<button type="button" onclick="alert('Hola Mundo');">Mensaje 1</button>

<button type="button" onclick="helloWorld('Cosme Fulanito');">Mensaje 2</button>

<HR>
<A href="dropdown.html">Combos</A>
</body>
</html>
